"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5023],{5023:(ie,f,l)=>{l.r(f),l.d(f,{JobDetailPageModule:()=>ee});var c=l(177),p=l(4341),u=l(7112),r=l(8974),m=l(3833),g=l(467),_=l(9437),b=l(5558),x=l(9866),e=l(6276),j=l(7157);const y=["openEditJobs"],C=["ScrollContainer"];function v(n,s){1&n&&(e.j41(0,"ion-text",27),e.EFF(1,"Este campo es obligatorio"),e.k0s())}function k(n,s){1&n&&(e.j41(0,"ion-text",27),e.EFF(1,"Este campo es obligatorio"),e.k0s())}function E(n,s){1&n&&(e.j41(0,"ion-text",27),e.EFF(1,"Este campo es obligatorio"),e.k0s())}function F(n,s){if(1&n){const o=e.RV6();e.j41(0,"ion-chip",28)(1,"ion-label",29),e.EFF(2),e.k0s(),e.j41(3,"ion-icon",30),e.bIt("click",function(){const a=e.eBV(o).$implicit,d=e.XpG(2);return e.Njj(d.removeItem(a))}),e.k0s()()}if(2&n){const o=s.$implicit;e.R7$(2),e.JRh(o)}}function M(n,s){if(1&n){const o=e.RV6();e.j41(0,"div",4)(1,"ion-text",5),e.EFF(2," Editar oferta "),e.k0s(),e.j41(3,"div",6,7)(5,"div",8)(6,"ion-text",9),e.EFF(7," T\xedtulo de la oferta "),e.k0s(),e.j41(8,"ion-chip",10)(9,"ion-input",11),e.bIt("ngModelChange",function(t){e.eBV(o);const a=e.XpG();return e.Njj(a.title=t)}),e.k0s()(),e.DNE(10,v,2,0,"ion-text",12),e.k0s(),e.j41(11,"div",13)(12,"ion-text",9),e.EFF(13," Horario de trabajo "),e.k0s(),e.j41(14,"ion-chip",14),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.openModalWorktypeTime())}),e.j41(15,"ion-input",15),e.bIt("ngModelChange",function(t){e.eBV(o);const a=e.XpG();return e.Njj(a.type_time=t)}),e.k0s(),e.j41(16,"span",16),e.EFF(17," arrow_drop_down "),e.k0s()(),e.DNE(18,k,2,0,"ion-text",12),e.k0s(),e.j41(19,"div",13)(20,"ion-text",9),e.EFF(21," Salario de la oferta "),e.k0s(),e.j41(22,"ion-chip",10)(23,"ion-input",17),e.bIt("ngModelChange",function(t){e.eBV(o);const a=e.XpG();return e.Njj(a.amount=t)})("ionChange",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.formatAmount())}),e.k0s()(),e.DNE(24,E,2,0,"ion-text",12),e.k0s(),e.j41(25,"div",13)(26,"ion-text",9),e.EFF(27," Ubicaci\xf3n "),e.k0s(),e.j41(28,"ion-chip",10)(29,"ion-input",18),e.bIt("ngModelChange",function(t){e.eBV(o);const a=e.XpG();return e.Njj(a.location=t)}),e.k0s()()(),e.j41(30,"div",13)(31,"ion-text",9),e.EFF(32," Descripci\xf3n "),e.k0s(),e.j41(33,"ion-chip",10)(34,"ion-input",19),e.bIt("ngModelChange",function(t){e.eBV(o);const a=e.XpG();return e.Njj(a.description=t)}),e.k0s()()(),e.j41(35,"div",13)(36,"ion-text",9),e.EFF(37," Requerimientos "),e.k0s(),e.j41(38,"ion-chip",10)(39,"ion-input",20),e.bIt("ngModelChange",function(t){e.eBV(o);const a=e.XpG();return e.Njj(a.newItem=t)})("keyup.enter",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.addItemToList())}),e.k0s()(),e.j41(40,"div",21),e.DNE(41,F,4,1,"ion-chip",22),e.k0s()()(),e.j41(42,"div",23)(43,"ion-chip",24),e.bIt("click",function(){e.eBV(o),e.XpG();const t=e.sdS(1);return e.Njj(t.dismiss())}),e.j41(44,"ion-text",25),e.EFF(45," Cancelar "),e.k0s()(),e.j41(46,"ion-chip",26),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.saveNewRecord())}),e.j41(47,"ion-text",25),e.EFF(48),e.k0s()()()()}if(2&n){const o=e.XpG();e.R7$(9),e.Y8G("ngModel",o.title),e.R7$(1),e.Y8G("ngIf",!o.title&&o.showErrorMessage),e.R7$(5),e.Y8G("readonly",!0)("ngModel",o.type_time),e.R7$(3),e.Y8G("ngIf",!o.type_time&&o.showErrorMessage),e.R7$(5),e.Y8G("ngModel",o.amount),e.R7$(1),e.Y8G("ngIf",!o.amount&&o.showErrorMessage),e.R7$(5),e.Y8G("ngModel",o.location),e.R7$(5),e.Y8G("ngModel",o.description),e.R7$(5),e.Y8G("ngModel",o.newItem),e.R7$(2),e.Y8G("ngForOf",o.requeriment),e.R7$(2),e.Y8G("disabled",o.isSubmitting),e.R7$(3),e.Y8G("disabled",o.isSubmitting),e.R7$(2),e.SpI(" ",o.isSubmitting?"Guardando...":"Guardar"," ")}}function J(n,s){if(1&n){const o=e.RV6();e.j41(0,"div",31)(1,"ion-radio-group",32),e.bIt("ionChange",function(t){e.eBV(o);const a=e.XpG();return e.Njj(a.setWorktypeTime(t.detail.value))}),e.j41(2,"ion-radio",33),e.EFF(3,"Tiempo completo"),e.k0s(),e.j41(4,"ion-radio",34),e.EFF(5,"Medio Tiempo"),e.k0s(),e.j41(6,"ion-radio",35),e.EFF(7,"Freelance"),e.k0s()(),e.j41(8,"div",36)(9,"ion-chip",37)(10,"ion-text",38),e.bIt("click",function(){e.eBV(o),e.XpG();const t=e.sdS(4);return e.Njj(t.dismiss())}),e.EFF(11," Cancelar "),e.k0s()(),e.j41(12,"ion-chip",39),e.bIt("click",function(){e.eBV(o),e.XpG();const t=e.sdS(4);return e.Njj(t.dismiss())}),e.j41(13,"ion-text"),e.EFF(14," Seleccionar "),e.k0s()()()()}}let D=(()=>{var n;class s{constructor(i,t,a,d){this.router=i,this.navCtrl=t,this.alertController=a,this.apiService=d,this.onChange=new e.bkB,this.title="",this.type_time="",this.description="",this.location="",this.requeriment=[],this.amount="",this.newItem="",this.itemList=[],this.closeModal=!1,this.showErrorMessage=!1,this.presentingElement=null,this.isWorktypeTimeModalOpen=!1,this.isSubmitting=!1}ngOnInit(){this.title=this.job.title,this.type_time=this.job.type_time,this.description=this.job.description,this.location=this.job.location,this.requeriment=this.job.requeriment,this.amount=this.job.amount,this.presentingElement=document.getElementById("edit-job-modal")}ngOnChanges(i){}goTo(i){this.router.navigateByUrl(i)}goBack(){this.navCtrl.back()}addItemToList(){if(""!==this.newItem.trim()){if(this.requeriment.map(t=>t.toLowerCase().trim()).includes(this.newItem.toLowerCase()))return void this.presentAlert(`El requerimiento ${this.newItem} ya ha sido agregado.`);if(this.requeriment.push(this.newItem),this.newItem="",this.requeriment.length>8)return;setTimeout(()=>{this.scrollToBottom()},100)}}removeItem(i){this.requeriment=this.requeriment.filter(t=>t!==i)}openModalWorktypeTime(){this.isWorktypeTimeModalOpen=!0}setWorktypeTime(i){this.type_time=i}presentAlert(i){var t=this;return(0,g.A)(function*(){yield(yield t.alertController.create({header:"Error",message:i,buttons:["OK"]})).present()})()}presentAlertSuccess(i){var t=this;return(0,g.A)(function*(){t.title="",t.type_time="",t.description="",t.location="",t.requeriment=[],t.amount="",yield(yield t.alertController.create({header:"Registro exitoso",message:i,buttons:["OK"]})).present()})()}scrollToBottom(){var i,t;null===(i=this.scrollContainer)||void 0===i||i.nativeElement.scroll({top:null===(t=this.scrollContainer)||void 0===t?void 0:t.nativeElement.scrollHeight,left:0,behavior:"smooth"})}formatAmount(){this.amount=this.amount.replace(/[^0-9$]/g,""),this.amount.startsWith("Bs ")||(this.amount="Bs "+this.amount)}saveNewRecord(){this.amount=this.amount.replace(/[^0-9.]/g,""),this.title&&this.type_time&&this.amount&&""!==this.amount||(this.showErrorMessage=!0,this.presentAlert("Por favor completa todos los campos"));const i={id:this.job.id,title:this.title,type_time:this.type_time,amount:this.amount,description:this.description,location:this.location,requeriment:this.requeriment};this.isSubmitting=!0,this.apiService.putJobs(i).subscribe({next:t=>{var a;this.job=t,localStorage.setItem("jobs",JSON.stringify(t)),this.onChange.emit(t),this.showErrorMessage=!1,this.isSubmitting=!1,null===(a=this.modal)||void 0===a||a.dismiss()},error:()=>{this.showErrorMessage=!1,this.isSubmitting=!1}})}}return(n=s).\u0275fac=function(i){return new(i||n)(e.rXU(m.Ix),e.rXU(j.q9),e.rXU(r.hG),e.rXU(u.G))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-job-detail"]],viewQuery:function(i,t){if(1&i&&(e.GBs(y,5,r.Sb),e.GBs(C,5)),2&i){let a;e.mGM(a=e.lsd())&&(t.modal=a.first),e.mGM(a=e.lsd())&&(t.scrollContainer=a.first)}},inputs:{job:"job"},outputs:{onChange:"onChange"},features:[e.OA$],decls:6,vars:2,consts:[["mode","md","trigger","openEditJobs",2,"--border-radius","16px"],["openEditJobs",""],["mode","ios",2,"--backdrop-opacity",".45",3,"canDismiss","isOpen","ionModalWillDismiss"],["workTimeDialog",""],["id","edit-job-modal",1,"my-2","bg-muted","flex","flex-col","justify-center","items-center","rounded-xl","px-3","py-5","h-full","max-h-full","overflow-y-auto"],[1,"text-primary-foreground","text-2xl","font-semibold","text-center","mb-7"],[1,"w-full","flex-1","flex","flex-col","gap-4","max-h-[540px]","overflow-y-auto","text-center"],["ScrollContainer",""],[1,"w-full","flex","flex-col","gap-2","text-start"],[1,"text-sm","ml-5","text-primary-foreground"],[1,"field"],["mode","ios","placeholder","Introduce el t\xedtulo de la oferta",3,"ngModel","ngModelChange"],["color","danger","style","margin-left:20px;",4,"ngIf"],[1,"flex","flex-col","gap-2","text-start"],[1,"field","cursor-pointer",3,"click"],["mode","ios","type","text","placeholder","Horario de trabajo",1,"cursor-pointer",3,"readonly","ngModel","ngModelChange"],[1,"material-icons","text-primary-foreground","absolute","top-2/4","-translate-y-2/4","right-1"],["mode","ios","type","text","placeholder","Salario",3,"ngModel","ngModelChange","ionChange"],["mode","ios","type","text","placeholder","Introduce la ubicaci\xf3n",3,"ngModel","ngModelChange"],["mode","ios","type","text","placeholder","Introduce la descripci\xf3n",3,"ngModel","ngModelChange"],["mode","ios","type","text","placeholder","Introduce los requerimientos",3,"ngModel","ngModelChange","keyup.enter"],[1,"px-3","flex","flex-wrap","gap-1"],["class","bg-foreground flex items-center gap-1 max-w-max",4,"ngFor","ngForOf"],[1,"w-full","flex","items-center","gap-2","mt-5"],[1,"w-full","flex","justify-center","items-center","bg-transparent","h-12","text-md","font-medium",3,"disabled","click"],[1,"whiteColor18SemiBold"],[1,"w-full","flex","justify-center","items-center","bg-primary","h-12","rounded-full","text-md","font-medium",3,"disabled","click"],["color","danger",2,"margin-left","20px"],[1,"bg-foreground","flex","items-center","gap-1","max-w-max"],[1,"text-destructive","text-sm"],["name","close-circle",1,"text-primary",3,"click"],[1,"bg-muted","flex","flex-col","justify-center","items-center","gap-y-8","rounded-xl","px-4","py-5","mx-4"],["value","Tiempo completo",1,"w-full","flex","flex-col","gap-3","text-primary-foreground",3,"ionChange"],["mode","md","value","Tiempo completo","justify","start","labelPlacement","end","aria-label","Complete Time",1,"block"],["mode","md","value","Medio tiempo","justify","start","labelPlacement","end","aria-label","Part Time",1,"block"],["mode","md","value","Freelance","justify","start","labelPlacement","end","aria-label","Freelance",1,"block"],[1,"w-full","flex","gap-2","justify-end","items-center"],[1,"text-primary-foreground","text-lg","flex","justify-center","items-center","font-medium","bg-transparent","px-4"],[3,"click"],[1,"text-primary-foreground","bg-primary","text-lg","h-12","rounded-3xl","py-4","px-6","flex","justify-center","items-center",3,"click"]],template:function(i,t){1&i&&(e.j41(0,"ion-modal",0,1),e.DNE(2,M,49,14,"ng-template"),e.k0s(),e.j41(3,"ion-modal",2,3),e.bIt("ionModalWillDismiss",function(){return t.isWorktypeTimeModalOpen=!1}),e.DNE(5,J,15,0,"ng-template"),e.k0s()),2&i&&(e.R7$(3),e.Y8G("canDismiss",!t.isSubmitting)("isOpen",t.isWorktypeTimeModalOpen))},dependencies:[c.Sq,c.bT,p.BC,p.vS,r.ZB,r.iq,r.$w,r.he,r.KO,r.f0,r.IO,r.Sb,r.uR,r.Je,r.Gw]}),s})();var w=l(8945),I=l(2217);function S(n,s){if(1&n){const o=e.RV6();e.qex(0),e.j41(1,"div",6)(2,"div",7),e.nrm(3,"ng-image",8),e.k0s(),e.j41(4,"div",9)(5,"p"),e.EFF(6),e.k0s(),e.j41(7,"p",10),e.EFF(8),e.k0s(),e.j41(9,"ion-chip",11),e.bIt("click",function(){const a=e.eBV(o).$implicit,d=e.XpG(2);return e.Njj(d.goToDetails(a))}),e.EFF(10," Ver perfil "),e.k0s()()(),e.bVm()}if(2&n){const o=s.$implicit,i=e.XpG(2);e.R7$(3),e.Y8G("fallbackErrorSrc",i.icPersonAsset)("src",i.stablishUrlPic(o.user.icon)),e.R7$(3),e.JRh(o.user.fullname),e.R7$(2),e.SpI(" ",o.user.specialization," ")}}function G(n,s){if(1&n&&(e.j41(0,"div",2)(1,"p",3),e.EFF(2," Candidatos "),e.k0s(),e.j41(3,"div",4),e.DNE(4,S,11,4,"ng-container",5),e.k0s()()),2&n){const o=e.XpG();e.R7$(4),e.Y8G("ngForOf",o.candidates)}}let T=(()=>{var n;class s{constructor(){this.onSeeDetails=new e.bkB,this.icPersonAsset=w._s,this.utils=new x.b}ngOnInit(){}goToDetails(i){this.onSeeDetails.emit(i)}stablishUrlPic(i){return this.utils.stablishUrlPic(i)}}return(n=s).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-candidates"]],inputs:{candidates:"candidates"},outputs:{onSeeDetails:"onSeeDetails"},decls:3,vars:0,consts:[["mode","md","trigger","open-candidates-modal",2,"--border-radius","5px","--background","#2C2C2C"],["modal",""],[1,"flex","flex-col","gap-4","bg-muted","rounded-2xl","px-3","py-5"],[1,"text-primary-foreground","text-2xl","font-semibold","text-center","mb-4"],[1,"flex","flex-1","flex-col","gap-5","max-h-[520px]","overflow-y-auto"],[4,"ngFor","ngForOf"],[1,"w-full","flex","items-center","gap-2","px-2"],[1,"bg-destructive","rounded-full","size-[90px]"],["width","90px","height","90px","alt","Candidate Icon",1,"min-w-[90px]","min-h-[90px]","size-[90px]","object-cover","rounded-full","overflow-hidden",3,"fallbackErrorSrc","src"],[1,"flex-1","text-start","text-primary-foreground","text-lg"],[1,"text-muted","text-sm"],[1,"bg-primary","mt-4","h-8","text-primary-foreground","text-sm","font-medium","rounded-full","flex","justify-center","items-center",3,"click"]],template:function(i,t){1&i&&(e.j41(0,"ion-modal",0,1),e.DNE(2,G,5,1,"ng-template"),e.k0s())},dependencies:[c.Sq,r.ZB,r.Sb,I.t]}),s})();var R=l(8810),$=l(8141);function B(n,s){if(1&n){const o=e.RV6();e.j41(0,"div",2)(1,"ion-text",3),e.EFF(2," Enviar mensaje "),e.k0s(),e.j41(3,"div",4)(4,"ion-text",5),e.EFF(5,"Mensaje "),e.k0s(),e.j41(6,"ion-chip",6)(7,"ion-input",7),e.bIt("ngModelChange",function(t){e.eBV(o);const a=e.XpG();return e.Njj(a.message=t)}),e.k0s()()(),e.j41(8,"div",8)(9,"ion-chip",9),e.bIt("click",function(){e.eBV(o),e.XpG();const t=e.sdS(1);return e.Njj(t.dismiss())}),e.j41(10,"ion-text"),e.EFF(11," Cancelar "),e.k0s()(),e.j41(12,"ion-chip",10),e.bIt("click",function(){e.eBV(o);const t=e.XpG(),a=e.sdS(1);return e.Njj(t.sendMessage(t.message,a))}),e.j41(13,"ion-text"),e.EFF(14),e.k0s()()()()}if(2&n){const o=e.XpG();e.R7$(7),e.Y8G("readonly",o.isSubmitting)("ngModel",o.message),e.R7$(2),e.Y8G("disabled",o.isSubmitting),e.R7$(3),e.Y8G("disabled",o.isSubmitting),e.R7$(2),e.SpI(" ",o.isSubmitting?"Enviando...":"Enviar"," ")}}let P=(()=>{var n;class s{constructor(i,t,a){this.router=i,this.apiService=t,this.cdr=a,this.message="",this.isAccountCompany="COMPANY"==localStorage.getItem("accountType"),this.isSubmitting=!1}ngOnInit(){}sendMessage(i,t){if(this.isSubmitting)return;this.isSubmitting=!0;const a={user_sending_id:localStorage.getItem("user_id"),user_recept_id:this.job.user_id};this.apiService.postChats(a).pipe((0,_.W)(d=>(this.isSubmitting=!1,(0,R.$)(()=>d))),(0,b.n)(d=>this.apiService.postMessage({message:i,chats_id:d.id,jobs_id:this.job.id})),(0,$.M)(d=>{this.message="",this.isSubmitting=!1,this.cdr.detectChanges(),t.dismiss(),this.router.navigateByUrl("/bottom-tab-bar/chats")})).subscribe({error:d=>{this.isSubmitting=!1,console.error("Error al crear el chat:",d)}})}}return(n=s).\u0275fac=function(i){return new(i||n)(e.rXU(m.Ix),e.rXU(u.G),e.rXU(e.gRc))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-send-message-modal"]],inputs:{job:"job"},decls:3,vars:1,consts:[["mode","md","trigger","open-message-modal",2,"--border-radius","5px","--background","#2C2C2C",3,"canDismiss"],["sendMessageModal",""],[1,"my-2","bg-muted","flex","flex-col","justify-center","items-center","rounded-xl","px-3","py-5","h-full","max-h-full","overflow-y-auto"],[1,"text-primary-foreground","text-2xl","font-semibold","text-center","mb-7"],[1,"w-full","flex","flex-col","gap-2","text-start"],[1,"text-sm","ml-5","text-primary-foreground"],[1,"field"],["mode","ios","placeholder","Escribe tu mensaje","placeholder","Escribe tu mensaje aqu\xed...","inputmode","text",3,"readonly","ngModel","ngModelChange"],[1,"w-full","flex","gap-1","items-center","justify-between","mt-5"],[1,"w-full","flex","items-center","justify-center","bg-accent","text-primary-foreground","rounded-full","text-md","font-medium","h-12",3,"disabled","click"],[1,"w-full","flex","items-center","justify-center","bg-primary","text-primary-foreground","rounded-full","text-md","font-medium","h-12",3,"disabled","click"]],template:function(i,t){1&i&&(e.j41(0,"ion-modal",0,1),e.DNE(2,B,15,5,"ng-template"),e.k0s()),2&i&&e.Y8G("canDismiss",!t.isSubmitting)},dependencies:[p.BC,p.vS,r.ZB,r.$w,r.IO,r.Sb,r.Gw]}),s})();const N=["modal"],O=["menu"],A=["logoutDialog"];function X(n,s){1&n&&(e.j41(0,"ion-chip",28)(1,"ion-text",29),e.EFF(2,"Ver candidatos"),e.k0s()())}function Y(n,s){if(1&n&&(e.qex(0),e.j41(1,"div",25)(2,"ion-text",26),e.EFF(3," Postulaciones: "),e.j41(4,"strong"),e.EFF(5),e.k0s()(),e.DNE(6,X,3,0,"ion-chip",27),e.k0s(),e.bVm()),2&n){const o=e.XpG();let i;e.R7$(5),e.JRh(null!==(i=null==o.dataJobs.appliedJobs?null:o.dataJobs.appliedJobs.length)&&void 0!==i?i:0),e.R7$(1),e.Y8G("ngIf",null==o.dataJobs.appliedJobs?null:o.dataJobs.appliedJobs.length)}}function V(n,s){if(1&n&&(e.j41(0,"div",30),e.nrm(1,"div",31),e.j41(2,"ion-text",32),e.EFF(3),e.k0s()()),2&n){const o=s.$implicit;e.R7$(3),e.SpI(" ",o," ")}}function U(n,s){1&n&&(e.j41(0,"ion-chip",36)(1,"ion-text",37),e.EFF(2,"Enviar mensaje"),e.k0s()())}function W(n,s){if(1&n){const o=e.RV6();e.j41(0,"div",33),e.DNE(1,U,3,0,"ion-chip",34),e.j41(2,"ion-chip",35),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(!t.applied&&t.applicateJob())}),e.j41(3,"ion-text"),e.EFF(4),e.k0s()()()}if(2&n){const o=e.XpG();e.R7$(1),e.Y8G("ngIf",!o.applied),e.R7$(1),e.HbH(o.utils.cn("flex justify-center items-center w-full h-12 rounded-3xl bg-primary cursor-pointer",o.applied&&"applied bg-foreground/90 cursor-not-allowed")),e.R7$(1),e.HbH(o.utils.cn("text-md font-medium text-center text-primary-foreground",o.applied&&"text-primary/90 font-semibold")),e.R7$(1),e.SpI(" ",o.isApplying?"Aplicando...":o.applyButton," ")}}function q(n,s){1&n&&(e.j41(0,"div",33)(1,"ion-chip",38)(2,"ion-text",39),e.EFF(3," Editar "),e.k0s()()())}function H(n,s){if(1&n){const o=e.RV6();e.qex(0),e.j41(1,"app-edit-job-detail",40),e.bIt("onChange",function(t){e.eBV(o);const a=e.XpG();return e.Njj(a.onJobEditChange(t))}),e.k0s(),e.bVm()}if(2&n){const o=e.XpG();e.R7$(1),e.Y8G("job",o.dataJobs)}}const z=function(){return[]},L=[{path:"",component:(()=>{var n;class s{constructor(i,t,a,d,h,te){this.navCtrl=i,this.router=t,this.apiJobsService=a,this.cdr=d,this.modalController=h,this.alertController=te,this.dataJobs=this.details(),this.isApplying=!1,this.applied=this.dataJobs.appliedUser,this.applyButton=this.applied?"Ya has aplicado a esta oferta":"Aplicar ahora",this.account=localStorage.getItem("accountType"),this.isAccountCompany="COMPANY"==this.account,this.isProcessing=!1,this.title=this.dataJobs.title,this.type_time=this.dataJobs.type_time,this.description=this.dataJobs.description,this.location=this.dataJobs.location,this.requeriment=this.dataJobs.requeriment,this.amount=this.dataJobs.amount,this.newItem="",this.itemList=[],this.closeModal=!1,this.showErrorMessage=!1,this.message="",this.utils=new x.b}details(){const i=localStorage.getItem("jobs");return i?JSON.parse(i):null}ngOnInit(){this.dataJobs=this.details(),this.applied=this.dataJobs.appliedUser,this.applyButton=this.applied?"Ya has aplicado a esta oferta":"Aplicar ahora"}goBack(){this.navCtrl.back()}goTo(i){this.router.navigateByUrl(i)}goToDetails(i,t){this.router.navigateByUrl(i),localStorage.setItem("candidate",JSON.stringify(t)),this.cerrarModal()}applicateJob(){if(!this.applied){const i={jobs_id:this.dataJobs.id};this.isApplying=!0,this.apiJobsService.postJobsApplied(i).pipe((0,_.W)(t=>(this.isApplying=!1,t)),(0,b.n)(()=>this.apiJobsService.allJobsApi({id:this.dataJobs.id}))).subscribe({next:t=>{const a=t.find(d=>d.id==this.dataJobs.id);localStorage.setItem("jobs",JSON.stringify(a)),this.dataJobs=a,this.applied=this.dataJobs.appliedUser,this.applyButton=this.applied?"Ya has aplicado a esta oferta":"Aplicar ahora",this.isApplying=!1,this.cerrarModal(),this.cdr.detectChanges()},error:()=>{this.isApplying=!1}})}}stablishUrlPic(i){return this.utils.stablishUrlPic(i)}searchIcon(i){return this.stablishUrlPic(i)}cerrarModal(){this.modalController.dismiss()}modalDidPresent(){this.dataJobs=this.details(),this.applied=this.dataJobs.appliedUser,this.applyButton=this.applied?"Ya has aplicado a esta oferta":"Aplicar ahora";let i=!this.applied;return this.cdr.detectChanges(),i}presentAlert(i){var t=this;return(0,g.A)(function*(){yield(yield t.alertController.create({header:"Error",message:i,buttons:["OK"]})).present()})()}addItemToList(){""!==this.newItem.trim()&&(this.requeriment.push(this.newItem),this.newItem="")}formatAmount(){this.amount=this.amount.replace(/[^0-9.$]/g,""),this.amount.startsWith("$")||(this.amount="$"+this.amount)}removeItem(i){this.requeriment=this.requeriment.filter(t=>t!==i)}onJobEditChange(i){this.dataJobs=i}}return(n=s).\u0275fac=function(i){return new(i||n)(e.rXU(j.q9),e.rXU(m.Ix),e.rXU(u.G),e.rXU(e.gRc),e.rXU(r.W3),e.rXU(r.hG))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-job-detail"]],viewQuery:function(i,t){if(1&i&&(e.GBs(N,5),e.GBs(O,5,r.oS),e.GBs(A,5,r.Sb)),2&i){let a;e.mGM(a=e.lsd())&&(t.modal=a.first),e.mGM(a=e.lsd())&&(t.menu=a.first),e.mGM(a=e.lsd())&&(t.logoutDialog=a.first)}},decls:39,vars:15,consts:[["mode","ios",1,"ion-no-border",3,"translucent"],["color","false",1,"bg-background"],[1,"flex","items-center","justify-between","px-2","py-5"],[1,"material-icons","text-[36px]","text-primary-foreground",3,"click"],[1,"text-lg","font-bold","flex-1","text-center","text-ellipsis","line-clamp-1","text-primary-foreground"],[1,"bg-transparent","p-0","m-0"],["menu","app-menu","color","whiteColor",1,"menu-button-custom"],[1,"bg-background",2,"--background","hsl(var(--background))",3,"fullscreen"],[1,"bg-muted","m-auto","w-[95%]","h-full","max-h-[95%]","max-w-[95%]","rounded-xl","p-5","relative","overflow-hidden","overflow-y-auto","flex","flex-col",2,"word-wrap","break-word"],[1,"flex","justify-between"],[1,"flex","flex-col","gap-1.5","justify-between","text-primary-foreground"],[1,"text-xl","leading-5","font-medium"],[1,"text-xs","text-primary-foreground/90"],[1,"column"],[1,"text-sm","text-primary-foreground","font-medium"],[1,"bg-foreground","mt-5","py-1","px-7","text-center","max-w-fit","rounded-full"],[1,"text-destructive","text-sm"],[4,"ngIf"],[1,"rowAlignCenter",2,"justify-content","space-between","margin-top","20px"],[1,"textAux",2,"color","#FFFFFF","font-size","18px","flex","1","-webkit-line-clamp","1","line-clamp","1"],[1,"textAux","text-pretty",2,"color","#FFFFFF","font-size","12px","flex","1","word-break","break-word","overflow","hidden","white-space","normal"],["class","row","style","margin-top: 10px;",4,"ngFor","ngForOf"],["class","w-full mt-auto flex justify-between gap-2 pt-5",4,"ngIf"],[3,"job"],[3,"candidates","onSeeDetails"],[1,"flex","flex-col","gap-3","my-5"],[1,"text-primary-foreground","font-medium","text-lg"],["id","open-candidates-modal","class","bg-primary flex justify-center items-center w-full h-12 rounded-full",4,"ngIf"],["id","open-candidates-modal",1,"bg-primary","flex","justify-center","items-center","w-full","h-12","rounded-full"],[1,"text-primary-foreground","text-lg","font-medium"],[1,"row",2,"margin-top","10px"],[1,"bullet"],[1,"textAux",2,"flex","1","color","#FFFFFF","font-size","12px","margin-left","5px"],[1,"w-full","mt-auto","flex","justify-between","gap-2","pt-5"],["id","open-message-modal","class","bg-muted flex justify-center items-center w-full h-12",4,"ngIf"],["id","openModal",3,"click"],["id","open-message-modal",1,"bg-muted","flex","justify-center","items-center","w-full","h-12"],[1,"text-primary-foreground","text-sm","font-medium"],["id","openEditJobs",1,"flex","justify-center","items-center","w-full","h-12","rounded-3xl","bg-primary","cursor-pointer"],[1,"text-md","font-medium","text-center","text-primary-foreground"],[3,"job","onChange"]],template:function(i,t){if(1&i&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"span",3),e.bIt("click",function(){return t.goBack()}),e.EFF(4," chevron_left "),e.k0s(),e.j41(5,"ion-text",4),e.EFF(6," Detalles de la oferta "),e.k0s(),e.j41(7,"ion-chip",5),e.nrm(8,"ion-menu-button",6),e.k0s()()()(),e.j41(9,"ion-content",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"ion-text",11),e.EFF(14),e.k0s(),e.j41(15,"ion-text",12),e.EFF(16),e.k0s()(),e.j41(17,"div",13)(18,"ion-text",14),e.EFF(19),e.k0s()()(),e.j41(20,"ion-chip",15)(21,"ion-text",16),e.EFF(22),e.k0s()(),e.DNE(23,Y,7,2,"ng-container",17),e.j41(24,"div",18)(25,"ion-text",19),e.EFF(26," Acerca del empleo "),e.k0s()(),e.j41(27,"div",18)(28,"ion-text",20),e.EFF(29),e.k0s()(),e.j41(30,"div",18)(31,"ion-text",19),e.EFF(32," Requisitos "),e.k0s()(),e.DNE(33,V,4,1,"div",21),e.DNE(34,W,5,6,"div",22),e.DNE(35,q,4,0,"div",22),e.k0s()(),e.nrm(36,"app-send-message-modal",23),e.j41(37,"app-candidates",24),e.bIt("onSeeDetails",function(d){return t.goToDetails("/candidate",d)}),e.k0s(),e.DNE(38,H,2,1,"ng-container",17)),2&i){let a;e.Y8G("translucent",!1),e.R7$(9),e.Y8G("fullscreen",!0),e.R7$(5),e.SpI(" ",t.dataJobs.title," "),e.R7$(2),e.SpI(" ",t.dataJobs.location," "),e.R7$(3),e.SpI(" Bs.",t.dataJobs.amount,"/mes "),e.R7$(3),e.JRh(t.dataJobs.type_time),e.R7$(1),e.Y8G("ngIf","COMPANY"==t.account),e.R7$(6),e.SpI(" ",t.dataJobs.description," "),e.R7$(4),e.Y8G("ngForOf",t.dataJobs.requeriment),e.R7$(1),e.Y8G("ngIf",!t.isAccountCompany),e.R7$(1),e.Y8G("ngIf",t.isAccountCompany),e.R7$(1),e.Y8G("job",t.dataJobs),e.R7$(1),e.Y8G("candidates",null!==(a=t.dataJobs.appliedJobs)&&void 0!==a?a:e.lJ4(14,z)),e.R7$(1),e.Y8G("ngIf",t.isAccountCompany)}},dependencies:[c.Sq,c.bT,r.ZB,r.W9,r.eU,r.MC,r.IO,r.ai,D,T,P],styles:['@charset "UTF-8";.divider[_ngcontent-%COMP%]{background-color:var(--lightGrayColor);height:1px;margin:20px}.bullet[_ngcontent-%COMP%]{width:5px;height:5px;border-radius:3px;background-color:#fff;margin-top:5px}.smallButton[_ngcontent-%COMP%]{background-color:var(--primaryColor);border-radius:20px;padding:8px 18px;box-shadow:0 2px 6px var(--primaryColor);margin-top:8px}.dashedBorderBox[_ngcontent-%COMP%]{background-color:var(--lightPrimaryColor);border:1.5px dashed var(--primaryColor);border-radius:10px;padding:20px;margin:10px 20px}.dialogButton[_ngcontent-%COMP%]{flex:1;background-color:#2758bf;padding:12px}.dialogHeader[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 20px 0}.custom-background[_ngcontent-%COMP%]{--background: #2758BF}.rounded-top-corners[_ngcontent-%COMP%]{border-top-left-radius:20px;border-top-right-radius:20px;overflow:hidden;background-color:#2758bf}.menu-button-custom[_ngcontent-%COMP%]{background:none;border:none;box-shadow:none;margin:0}ion-content[_ngcontent-%COMP%]{--background: #121212;--ion-color-background: #121212;margin:0;padding:0;border:none}.customChip[_ngcontent-%COMP%]{background-color:#000;border-radius:100px;border:1px solid white;padding:1px 20px;display:flex;margin-left:0%;margin-right:0%;height:40px}.textAux[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:14px}.applied.chip-disabled[_ngcontent-%COMP%]{opacity:1!important}']}),s})()}];let K=(()=>{var n;class s{}return(n=s).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[m.iI.forChild(L),m.iI]}),s})();var Q=l(1626),Z=l(3887);let ee=(()=>{var n;class s{}return(n=s).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({providers:[u.G],imports:[c.MD,p.YN,r.bv,K,Q.q1,Z.G]}),s})()}}]);