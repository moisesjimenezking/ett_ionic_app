"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1123],{1123:(G,u,s)=>{s.r(u),s.d(u,{JobDetailPageModule:()=>Y});var d=s(6814),p=s(95),m=s(4173),r=s(3498),g=s(209),h=s(5861),b=s(8504),t=s(6689),x=s(5472);const f=["modal"],J=["openEditJobs"];function v(o,l){1&o&&(t.TgZ(0,"span",30),t._uU(1," share "),t.qZA())}function Z(o,l){1&o&&t._UZ(0,"ion-icon",31)}function T(o,l){1&o&&(t.TgZ(0,"ion-text",51),t._uU(1,"Este campo es obligatorio"),t.qZA())}function C(o,l){1&o&&(t.TgZ(0,"ion-text",51),t._uU(1,"Este campo es obligatorio"),t.qZA())}function M(o,l){1&o&&(t.TgZ(0,"ion-text",51),t._uU(1,"Este campo es obligatorio"),t.qZA())}function A(o,l){if(1&o){const i=t.EpF();t.TgZ(0,"ion-chip")(1,"ion-label"),t._uU(2),t.qZA(),t.TgZ(3,"ion-icon",52),t.NdJ("click",function(){const a=t.CHM(i).$implicit,c=t.oxw(2);return t.KtG(c.removeItem(a))}),t.qZA()()}if(2&o){const i=l.$implicit;t.xp6(2),t.Oqu(i)}}function P(o,l){if(1&o){const i=t.EpF();t.TgZ(0,"div",32)(1,"ion-text",33),t._uU(2," Editar Registro "),t.qZA(),t.TgZ(3,"div",34)(4,"div",35)(5,"ion-input",36),t.NdJ("ngModelChange",function(e){t.CHM(i);const a=t.oxw();return t.KtG(a.title=e)}),t.qZA()(),t.YNc(6,T,2,0,"ion-text",37),t.qZA(),t.TgZ(7,"div",34)(8,"div",35)(9,"ion-select",38),t.NdJ("ngModelChange",function(e){t.CHM(i);const a=t.oxw();return t.KtG(a.type_time=e)}),t.TgZ(10,"ion-select-option",39),t._uU(11,"Tiempo completo"),t.qZA(),t.TgZ(12,"ion-select-option",40),t._uU(13,"Medio tiempo"),t.qZA(),t.TgZ(14,"ion-select-option",41),t._uU(15,"Freelance"),t.qZA()()(),t.YNc(16,C,2,0,"ion-text",37),t.qZA(),t.TgZ(17,"div",34)(18,"div",35)(19,"ion-input",42),t.NdJ("ngModelChange",function(e){t.CHM(i);const a=t.oxw();return t.KtG(a.amount=e)})("ionChange",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.formatAmount())}),t.qZA()(),t.YNc(20,M,2,0,"ion-text",37),t.qZA(),t.TgZ(21,"div",34)(22,"div",35)(23,"ion-input",43),t.NdJ("ngModelChange",function(e){t.CHM(i);const a=t.oxw();return t.KtG(a.location=e)}),t.qZA()()(),t.TgZ(24,"div",34)(25,"div",35)(26,"ion-input",44),t.NdJ("ngModelChange",function(e){t.CHM(i);const a=t.oxw();return t.KtG(a.description=e)}),t.qZA()()(),t.TgZ(27,"div",34)(28,"div",35)(29,"ion-input",45),t.NdJ("ngModelChange",function(e){t.CHM(i);const a=t.oxw();return t.KtG(a.newItem=e)})("keyup.enter",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.addItemToList())}),t.qZA()(),t.YNc(30,A,4,1,"ion-chip",46),t.qZA(),t.TgZ(31,"div",47)(32,"div",48),t.NdJ("click",function(){t.CHM(i),t.oxw();const e=t.MAs(10);return t.KtG(e.dismiss())}),t.TgZ(33,"ion-text",49),t._uU(34," Cancelar "),t.qZA()(),t.TgZ(35,"div",50),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.saveAndCloseModal())}),t.TgZ(36,"ion-text",49),t._uU(37," Guardar "),t.qZA()()()()}if(2&o){const i=t.oxw();t.xp6(5),t.Q6J("ngModel",i.title),t.xp6(1),t.Q6J("ngIf",!i.title&&i.showErrorMessage),t.xp6(3),t.Q6J("ngModel",i.type_time),t.xp6(7),t.Q6J("ngIf",!i.type_time&&i.showErrorMessage),t.xp6(3),t.Q6J("ngModel",i.amount),t.xp6(1),t.Q6J("ngIf",!i.amount&&i.showErrorMessage),t.xp6(3),t.Q6J("ngModel",i.location),t.xp6(3),t.Q6J("ngModel",i.description),t.xp6(3),t.Q6J("ngModel",i.newItem),t.xp6(1),t.Q6J("ngForOf",i.requeriment)}}function y(o,l){if(1&o&&(t.TgZ(0,"div",53)(1,"span",54),t._uU(2,"group_add"),t.qZA(),t.TgZ(3,"ion-label"),t._uU(4),t.qZA()()),2&o){const i=t.oxw();t.xp6(4),t.hij("Postulaciones: ",i.dataJobs.listApplied,"")}}function w(o,l){if(1&o&&(t.TgZ(0,"div",55),t._UZ(1,"div",56),t.TgZ(2,"ion-text",57),t._uU(3),t.qZA()()),2&o){const i=l.$implicit;t.xp6(3),t.hij(" ",i," ")}}function q(o,l){1&o&&(t.TgZ(0,"div",32)(1,"div",60),t._UZ(2,"ion-img",61),t.TgZ(3,"ion-text",62),t._uU(4," \xa1Felicidades! Tu solicitud para este trabajo ha sido enviada exitosamente. "),t.qZA()()())}function U(o,l){1&o&&(t.TgZ(0,"div")(1,"ion-modal",58,59),t.YNc(3,q,5,0,"ng-template"),t.qZA()())}function D(o,l){if(1&o){const i=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"strong"),t._uU(3),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"div",65),t.NdJ("click",function(){const a=t.CHM(i).$implicit,c=t.oxw(3);return t.KtG(c.goToDetails("candidate",a))}),t.TgZ(6,"ion-text",49),t._uU(7," Ver Perfil "),t.qZA()()()}if(2&o){const i=l.$implicit;t.xp6(3),t.Oqu(i.user.fullname.toUpperCase()),t.xp6(1),t.hij(" (",i.user.specialization,")")}}function k(o,l){if(1&o&&(t.TgZ(0,"ion-list"),t.YNc(1,D,8,2,"ion-item",46),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.dataJobs.appliedJobs)}}function I(o,l){1&o&&(t.TgZ(0,"div")(1,"ion-modal",63,64),t.YNc(3,k,2,1,"ng-template"),t.qZA()())}const _=function(o){return{"background-color":o}};function B(o,l){if(1&o){const i=t.EpF();t.TgZ(0,"div")(1,"div",66),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(!e.enableButton&&e.applicateJob())}),t.TgZ(2,"ion-text",49),t._uU(3),t.qZA()()()}if(2&o){const i=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.VKq(3,_,i.enableButton?"#cccccc":"#2758BF")),t.uIk("disabled",!!i.enableButton||null),t.xp6(2),t.hij(" ",i.buttonText," ")}}function N(o,l){if(1&o&&(t.TgZ(0,"div")(1,"div",67)(2,"ion-text",49),t._uU(3," Ver candidatos "),t.qZA()()()),2&o){const i=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.VKq(2,_,0===i.dataJobs.appliedJobs.length?"#cccccc":"#2758BF")),t.uIk("disabled",0===i.dataJobs.appliedJobs.length||null)}}const F=[{path:"",component:(()=>{var o;class l{constructor(n,e,a,c,j,Q,E){this.navCtrl=n,this.router=e,this.route=a,this.apiJobsService=c,this.cdr=j,this.modalController=Q,this.alertController=E,this.dataJobs=this.details(),this.enableButton=this.dataJobs.appliedUser,this.buttonText=this.enableButton?"Ya has aplicado a esta oferta":"Aplicar ahora",this.account=localStorage.getItem("accountType"),this.title=this.dataJobs.title,this.type_time=this.dataJobs.type_time,this.description=this.dataJobs.description,this.location=this.dataJobs.location,this.requeriment=this.dataJobs.requeriment,this.amount=this.dataJobs.amount,this.newItem="",this.itemList=[],this.closeModal=!1,this.showErrorMessage=!1}details(){const n=localStorage.getItem("jobs");return n?JSON.parse(n):{}}ngOnInit(){this.dataJobs=this.details(),this.enableButton=this.dataJobs.appliedUser,this.buttonText=this.enableButton?"Ya has aplicado a esta oferta":"Aplicar ahora",console.log(this.dataJobs.amount)}goBack(){this.navCtrl.back()}goTo(n){this.router.navigateByUrl(n)}goToDetails(n,e){this.router.navigateByUrl(n),localStorage.setItem("candidate",JSON.stringify(e)),this.cerrarModal()}applicateJob(){!1===this.enableButton&&(this.apiJobsService.postJobsApplied({jobs_id:this.dataJobs.id}),setTimeout(()=>{this.apiJobsService.allJobsApi({id:this.dataJobs.id}).subscribe(e=>{localStorage.setItem("jobs",JSON.stringify(e[0])),this.dataJobs=this.details(),this.enableButton=this.dataJobs.appliedUser,this.buttonText=this.enableButton?"Ya has aplicado a esta oferta":"Aplicar ahora",this.cerrarModal(),this.cdr.detectChanges()})},1e3))}stablishUrlPic(n){let e=n;return null===e||""===e||"null"===e?`${localStorage.getItem("rute")}/img/iconHuman.jpg`:`${localStorage.getItem("rute")}/img/${e}`}searchIcon(n){return this.stablishUrlPic(n)}cerrarModal(){this.modalController.dismiss()}modalDidPresent(){this.dataJobs=this.details(),this.enableButton=this.dataJobs.appliedUser,this.buttonText=this.enableButton?"Ya has aplicado a esta oferta":"Aplicar ahora";let n=!this.enableButton;return this.cdr.detectChanges(),n}saveAndCloseModal(){this.saveNewRecord(),this.closeModal&&(this.openEditJobs.dismiss(),setTimeout(()=>{this.apiJobsService.allJobsApi({id:this.dataJobs.id}).subscribe(n=>{localStorage.setItem("jobs",JSON.stringify(n[0])),this.dataJobs=this.details(),this.cdr.detectChanges()})},1e3))}presentAlert(n){var e=this;return(0,h.Z)(function*(){yield(yield e.alertController.create({header:"Error",message:n,buttons:["OK"]})).present()})()}saveNewRecord(){if(console.log(this.amount),this.amount=this.amount.replace(/[^0-9.]/g,""),console.log(this.amount),!this.title||!this.type_time||!this.amount||""===this.amount){this.showErrorMessage=!0;let a="Por favor completa todos los campos";return this.closeModal=!1,this.presentAlert(a),(0,b._)(()=>new Error(a))}this.showErrorMessage=!1,this.closeModal=!0;let e=!1;return this.apiJobsService.putJobs({id:this.dataJobs.id,title:this.title,type_time:this.type_time,amount:this.amount,description:this.description,location:this.location,requeriment:this.requeriment})&&(e=!0),e}addItemToList(){""!==this.newItem.trim()&&(this.requeriment.push(this.newItem),this.newItem="")}formatAmount(){this.amount=this.amount.replace(/[^0-9.$]/g,""),this.amount.startsWith("$")||(this.amount="$"+this.amount),console.log(this.amount)}removeItem(n){this.requeriment=this.requeriment.filter(e=>e!==n)}}return(o=l).\u0275fac=function(n){return new(n||o)(t.Y36(x.SH),t.Y36(g.F0),t.Y36(g.gz),t.Y36(m.s),t.Y36(t.sBO),t.Y36(r.IN),t.Y36(r.Br))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-job-detail"]],viewQuery:function(n,e){if(1&n&&(t.Gf(f,5),t.Gf(J,5)),2&n){let a;t.iGM(a=t.CRH())&&(e.modal=a.first),t.iGM(a=t.CRH())&&(e.openEditJobs=a.first)}},decls:54,vars:17,consts:[["mode","ios",1,"ion-no-border",3,"translucent"],["color","false",2,"background-color","#2758BF"],[1,"rowAlignCenter","margin20",2,"justify-content","space-between"],[1,"material-icons",2,"color","#fff","font-size","28px",3,"click"],[1,"whiteColor20Bold","ellipseText",2,"max-width","80%","-webkit-line-clamp","1","text-align","center"],["class","material-icons","style","color: #2758BF; font-size: 22px",4,"ngIf"],["id","openEditJobs","name","create-outline","color","whiteColor","style","font-size: 30px;",4,"ngIf"],["mode","md","trigger","openEditJobs",2,"--border-radius","10px"],["openEditJobs",""],[1,"custom-background",3,"fullscreen"],[1,"rounded-top-corners",2,"background-color","rgb(255, 255, 255)","height","100%"],[1,"row","jobCard",2,"margin-top","0"],[1,"rowAlignCenter"],[1,"imageOverflow",2,"width","65px","height","65px","border-radius","10px",3,"src"],[1,"column",2,"flex","1","margin-left","15px"],[1,"blackColor18SemiBold","ellipseText",2,"-webkit-line-clamp","1"],[1,"grayColor15Medium","ellipseText",2,"-webkit-line-clamp","1","margin-top","3px"],["style","display: flex; flex-direction: column; align-items: center;",4,"ngIf"],[1,"rowAlignCenter",2,"justify-content","space-between","margin","0 20px"],[1,"grayColor16Regular","ellipseText",2,"flex","1","-webkit-line-clamp","1"],[1,"primaryColor16Medium"],[1,"rowAlignCenter",2,"justify-content","space-between","margin","10px 20px"],[1,"divider"],[1,"column",2,"margin","0 20px"],[1,"blackColor19SemiBold"],[1,"grayColor16Regular",2,"margin-top","10px","text-align","justify"],[2,"margin","0 20px"],["class","row","style","margin-top: 10px",4,"ngFor","ngForOf"],[4,"ngIf"],["mode","ios",2,"background-color","var(--whiteColor)"],[1,"material-icons",2,"color","#2758BF","font-size","22px"],["id","openEditJobs","name","create-outline","color","whiteColor",2,"font-size","30px"],[1,"column"],[1,"blackColor18Medium",2,"text-align","center","margin","20px","margin-bottom","30px"],[1,"margin20",2,"margin-top","10px"],[1,"textFieldWrapper"],["mode","ios","placeholder","Titulo de la oferta",1,"textField","lightColor16Medium",2,"min-height","20px",3,"ngModel","ngModelChange"],["color","danger",4,"ngIf"],["interface","auto","placeholder","Horario de Trabajo",1,"textField","blackColor16Medium",2,"min-height","20px",3,"ngModel","ngModelChange"],["value","Tiempo completo"],["value","Medio tiempo"],["value","Freelance"],["mode","ios","type","text","placeholder","Salario",3,"ngModel","ngModelChange","ionChange"],["mode","ios","type","text","placeholder","Ubicaci\xf3n",3,"ngModel","ngModelChange"],["mode","ios","type","text","placeholder","Descripci\xf3n",3,"ngModel","ngModelChange"],["mode","ios","placeholder","Requerimientos",1,"textField","lightColor16Medium",2,"min-height","20px",3,"ngModel","ngModelChange","keyup.enter"],[4,"ngFor","ngForOf"],[1,"row"],[1,"center","dialogButton",2,"margin-right","1px",3,"click"],[1,"whiteColor18SemiBold"],[1,"center","dialogButton",2,"margin-left","1px",3,"click"],["color","danger"],["name","close-circle",3,"click"],[2,"display","flex","flex-direction","column","align-items","center"],[1,"material-icons",2,"font-size","50px","color","#2758BF"],[1,"row",2,"margin-top","10px"],[1,"bullet"],[1,"grayColor16Regular",2,"flex","1","margin-left","10px"],["mode","md","trigger","openModal",2,"--border-radius","10px"],["modal",""],[1,"center","column",2,"margin","0 20px","margin-bottom","10px"],["src","../../../assets/images/icons/success.png",1,"imageOverflow",2,"width","100px","height","100px","margin","20px 0"],[1,"blackColor20Bold",2,"margin-bottom","10px","text-align","center"],["mode","ios","trigger","openListUser",2,"--border-radius","30px"],["modalListUser",""],[1,"center","button",2,"background-color","#2758BF",3,"click"],["id","openModal",1,"center","button",3,"ngStyle","click"],["id","openListUser",1,"center","button",3,"ngStyle"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"span",3),t.NdJ("click",function(){return e.goBack()}),t._uU(4," keyboard_backspace "),t.qZA(),t.TgZ(5,"ion-text",4),t._uU(6," Detalles del trabajo "),t.qZA(),t.YNc(7,v,2,0,"span",5),t.YNc(8,Z,1,0,"ion-icon",6),t.qZA(),t.TgZ(9,"ion-modal",7,8),t.YNc(11,P,38,10,"ng-template"),t.qZA()()(),t.TgZ(12,"ion-content",9)(13,"div",10)(14,"div",11)(15,"div",12),t._UZ(16,"ion-img",13),t.TgZ(17,"div",14)(18,"ion-text",15),t._uU(19),t.qZA(),t.TgZ(20,"ion-text",16),t._uU(21),t.qZA()()(),t.YNc(22,y,5,1,"div",17),t.qZA(),t.TgZ(23,"div",18)(24,"ion-text",19),t._uU(25," Salario "),t.qZA(),t.TgZ(26,"ion-text",20),t._uU(27),t.qZA()(),t.TgZ(28,"div",21)(29,"ion-text",19),t._uU(30," Tipo "),t.qZA(),t.TgZ(31,"ion-text",20),t._uU(32),t.qZA()(),t.TgZ(33,"div",18)(34,"ion-text",19),t._uU(35," Ubicaci\xf3n "),t.qZA(),t.TgZ(36,"ion-text",20),t._uU(37),t.qZA()(),t._UZ(38,"div",22),t.TgZ(39,"div",23)(40,"ion-text",24),t._uU(41," Descripci\xf3n del trabajo "),t.qZA(),t.TgZ(42,"ion-text",25),t._uU(43),t.qZA()(),t._UZ(44,"div",22),t.TgZ(45,"div",26)(46,"ion-text",24),t._uU(47," Requisitos "),t.qZA(),t.YNc(48,w,4,1,"div",27),t.qZA(),t.YNc(49,U,4,0,"div",28),t.YNc(50,I,4,0,"div",28),t.qZA()(),t.TgZ(51,"ion-footer",29),t.YNc(52,B,4,5,"div",28),t.YNc(53,N,4,4,"div",28),t.qZA()),2&n&&(t.Q6J("translucent",!1),t.xp6(7),t.Q6J("ngIf","PERSON"===e.account),t.xp6(1),t.Q6J("ngIf","COMPANY"===e.account),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(4),t.Q6J("src",e.searchIcon(e.dataJobs.user.icon)),t.xp6(3),t.hij(" ",e.dataJobs.title," "),t.xp6(2),t.hij(" ",e.dataJobs.user.fullname," "),t.xp6(1),t.Q6J("ngIf","COMPANY"===e.account),t.xp6(5),t.hij(" $",e.dataJobs.amount,"/Mo "),t.xp6(5),t.hij(" ",e.dataJobs.type_time,""),t.xp6(5),t.Oqu(e.dataJobs.location),t.xp6(6),t.hij(" ",e.dataJobs.description," "),t.xp6(5),t.Q6J("ngForOf",e.dataJobs.requeriment),t.xp6(1),t.Q6J("ngIf",!e.enableButton),t.xp6(1),t.Q6J("ngIf",e.dataJobs.appliedJobs.length>=1),t.xp6(2),t.Q6J("ngIf","PERSON"===e.account),t.xp6(1),t.Q6J("ngIf","COMPANY"===e.account))},dependencies:[d.sg,d.O5,d.PC,p.JJ,p.On,r.hM,r.W2,r.fr,r.Gu,r.gu,r.Xz,r.pK,r.Ie,r.Q$,r.q_,r.t9,r.n0,r.yW,r.sr,r.ki,r.QI,r.j9],styles:[".divider[_ngcontent-%COMP%]{background-color:var(--lightGrayColor);height:1px;margin:20px}.bullet[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:3px;background-color:var(--grayColor);margin-top:8px}.smallButton[_ngcontent-%COMP%]{background-color:var(--primaryColor);border-radius:20px;padding:8px 18px;box-shadow:0 2px 6px var(--primaryColor);margin-top:8px}.dashedBorderBox[_ngcontent-%COMP%]{background-color:var(--lightPrimaryColor);border:1.5px dashed var(--primaryColor);border-radius:10px;padding:20px;margin:10px 20px}.dialogButton[_ngcontent-%COMP%]{flex:1;background-color:#2758bf;padding:12px}.dialogHeader[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 20px 0}.custom-background[_ngcontent-%COMP%]{--background: #2758BF}.rounded-top-corners[_ngcontent-%COMP%]{border-top-left-radius:20px;border-top-right-radius:20px;overflow:hidden;background-color:#2758bf}"]}),l})()}];let O=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.Bz.forChild(F),g.Bz]}),l})();var S=s(9862);let Y=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[m.s],imports:[d.ez,p.u5,r.Pc,O,S.JF]}),l})()}}]);